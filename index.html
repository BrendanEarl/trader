<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fantasy Football Trade Analyzer</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f2f5;
    margin: 0;
    padding: 20px;
    text-align: center;
  }

  h1 { color: #1f2937; }

  .container {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    margin-top: 30px;
    gap: 20px;
  }

  .team-card {
    background: #fff;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    flex: 1;
    min-width: 300px;
  }

  .team-card h3 { color: #2563eb; }

  .player-row {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
  }

  input {
    padding: 8px;
    border-radius: 8px;
    border: 1px solid #ccc;
    width: 100%;
    font-size: 14px;
  }

  button {
    padding: 8px 12px;
    border-radius: 8px;
    border: none;
    background: #2563eb;
    color: #fff;
    cursor: pointer;
    font-size: 14px;
    transition: 0.2s;
  }

  button:hover { background: #1e40af; }

  .analyze-btn { display: block; width: 250px; margin: 30px auto; font-weight: bold; }

  #result {
    margin-top: 15px;
    padding: 15px;
    border-radius: 12px;
    font-size: 18px;
    min-height: 80px;
  }

  #result img {
    max-width: 200px;
    margin-top: 10px;
  }

  .loss { color: red; font-size: 22px; font-weight: bold; }
  .win { color: green; font-size: 22px; font-weight: bold; }

  .autocomplete-suggestions {
    border: 1px solid #ccc;
    background: #fff;
    max-height: 120px;
    overflow-y: auto;
    position: absolute;
    z-index: 1000;
    border-radius: 8px;
  }

  .autocomplete-suggestion { padding: 6px; cursor: pointer; }
  .autocomplete-suggestion:hover { background: #f3f4f6; }
</style>
</head>
<body>

<h1>Earlxo's Fantasy Football Trade Analyzer</h1>

<div class="container">
  <div class="team-card">
    <h3>My Team</h3>
    <div id="myTeamPlayers"></div>
    <button onclick="addPlayer('my')">+ Add Player</button>
  </div>

  <div class="team-card">
    <h3>Opposing Team</h3>
    <div id="opposingTeamPlayers"></div>
    <button onclick="addPlayer('opp')">+ Add Player</button>
  </div>
</div>

<button class="analyze-btn" onclick="analyzeTrade()">Analyze Trade</button>

<div id="result"></div>

<script>

const playerValues = {
"Bijan Robinson":100,"Ja’Marr Chase":100,"Justin Jefferson":99,"Saquon Barkley":98,"CeeDee Lamb":99,
"Christian McCaffrey":97,"Jahmyr Gibbs":97,"Chase Brown":94,"Nico Collins":94,"Puka Nacua":94,
"Malik Nabers":94,"Jonathan Taylor":90,"Amon-Ra St. Brown":90,"Brock Bowers":91,"Drake London":90,
"Ladd McConkey":88,"De’Von Achane":90,"A.J. Brown":87,"Brian Thomas Jr.":90,"Bucky Irving":85,
"Trey McBride":90,"Davante Adams":85,"Josh Jacobs":84,"Xavier Worthy":66,"Jayden Daniels":80,
"Kyren Williams":85,"Josh Allen":83,"Lamar Jackson":83,"Marvin Harrison Jr.":72,"Sam LaPorta":60,
"Tyreek Hill":75,"Tee Higgins":78,"Jaxon Smith-Njigba":78,"Calvin Ridley":70,"Garrett Wilson":70,
"George Kittle":80,"Terry McLaurin":78,"Omarion Hampton":85,"TreVeyon Henderson":78,"Breece Hall":70,
"Jalen Hurts":80,"Mike Evans":71,"Rome Odunze":66,"James Cook":74,"DK Metcalf":74,"Ja’Tavion Sanders":1,
"Courtland Sutton":69,"George Pickens":71,"Jaylen Waddle":66,"DeVonta Smith":66,"Jameson Williams":66,
"Ricky Pearsall":63,"Jakobi Meyers":45,"Rashee Rice":66,"Isiah Pacheco":60,"David Montgomery":60,
"D’Andre Swift":62,"Zay Flowers":60,"Chuba Hubbard":60,"Alvin Kamara":72,"James Conner":66,
"Jauan Jennings":60,"Emeka Egbuka":65,"Matthew Golden":60,"Kaleb Johnson":35,"Tony Pollard":59,
"Chris Olave":42,"Joe Burrow":65,"Chris Godwin":20,"Brian Robinson Jr.":2,"RJ Harvey":50,
"Jermaine Burton":1,"Baker Mayfield":33,"Jordan Addison":22,"Tyler Warren":25,"David Njoku":17,
"Stefon Diggs":28,"Tyrone Tracy Jr.":28,"Josh Downs":25,"TJ Hockenson":23,"Travis Kelce":14,
"Michael Pittman Jr.":17,"Khalil Shakir":16,"Aaron Jones":25,"Jaylen Warren":35,"Joe Mixon":4,
"Darnell Mooney":12,"Keon Coleman":16,"Deebo Samuel Sr.":15,"Dak Prescott":25,"Justin Fields":22,
"Patrick Mahomes":20,"Kyler Murray":15,"Bo Nix":12,"Jordan Mason":12,"J.K. Dobbins":11,"Javonte Williams":11,
"Austin Ekeler":19,"Tucker Kraft":15, "keenan allen":13, "jerome ford":13, "j.j. mccarthy":9, "luther burden":10, "jayden higgins":10, 
  "wan'dale robinson":14, "christian kirk":13, "tetairoa mcmillan":75,   "dj moore":66, "dylan sampson":9, "justin herbert":3,
  "rico dowdle":3, "zach charbonnet":13, "dont'e thorton":6, "brashard smith":5, "kareem hunt":4, "najee harris":10,
  "rachaad white":3, "trey benson":12, "ollie gordon":12, "braelon allen":12, "colston loveland ":22, "mark andrews":18,
  "nick chubb":23, "joe mixon":12, "travis ettiene":18, "tank bigsby":15, "romeo doubs":5, "kyle pitts":7, "brandon aiyuk":17,
  "j.k. dobbins":40, "kyle williams":3,   "brock purdy":12, "jordan love":10, "dallas goedert":8, "evan engram":22, 
  "cam skattebo":9, "xavier legette":15, "woody marks":5, "rashid shaheed":13, "chris rodriguez":12, "bill croskey-merritt":20,
  "rhamondre stevenson":9, "ray davis":3,  "jalen coker":10,  "kenneth walker":65, "will shipley":3, "jayden reed":12, "pop douglas":7,
  "quinshon judkins":18, "isaac teslaa":9, "marvin mims":12, "dameon pierce":7,    
}


function autocomplete(input) {
  let currentFocus;
  input.addEventListener("input", function() {
    closeAllLists();
    if (!this.value) return false;
    currentFocus = -1;
    const val = this.value.toLowerCase();
    const list = document.createElement("div");
    list.setAttribute("class", "autocomplete-suggestions");
    this.parentNode.appendChild(list);

    Object.keys(playerValues).forEach(player => {
      if (player.toLowerCase().includes(val)) {
        const item = document.createElement("div");
        item.setAttribute("class", "autocomplete-suggestion");
        item.innerHTML = player;
        item.addEventListener("click", function() {
          input.value = this.innerText;
          closeAllLists();
        });
        list.appendChild(item);
      }
    });
  });

  input.addEventListener("keydown", function(e) {
    let x = document.querySelector(".autocomplete-suggestions");
    if (x) x = x.getElementsByTagName("div");
    if (e.key === "ArrowDown") { currentFocus++; addActive(x); }
    else if (e.key === "ArrowUp") { currentFocus--; addActive(x); }
    else if (e.key === "Enter") { e.preventDefault(); if (currentFocus > -1 && x) x[currentFocus].click(); }
  });

  function addActive(x) {
    if (!x) return false;
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = x.length - 1;
    x[currentFocus].classList.add("autocomplete-active");
  }
  function removeActive(x) { for (let i = 0; i < x.length; i++) x[i].classList.remove("autocomplete-active"); }
  function closeAllLists(elmnt) {
    const items = document.getElementsByClassName("autocomplete-suggestions");
    for (let i = 0; i < items.length; i++) { if (elmnt != items[i] && elmnt != input) items[i].parentNode.removeChild(items[i]); }
  }
  document.addEventListener("click", function(e) { closeAllLists(e.target); });
}


function addPlayer(team) {
  const container = document.getElementById(team === 'my' ? 'myTeamPlayers' : 'opposingTeamPlayers');
  const row = document.createElement('div');
  row.className = 'player-row';
  const input = document.createElement('input');
  input.type = 'text';
  input.placeholder = 'Type player name';
  autocomplete(input);
  const removeBtn = document.createElement('button');
  removeBtn.innerText = 'Remove';
  removeBtn.onclick = () => row.remove();
  row.appendChild(input);
  row.appendChild(removeBtn);
  container.appendChild(row);
}


function analyzeTrade() {
  let totalMy = 0, totalOpp = 0;
  let missingPlayers = [];

  document.querySelectorAll('#myTeamPlayers input').forEach(input => {
    const val = input.value.trim();
    if (playerValues[val] !== undefined) totalMy += playerValues[val];
    else if(val) missingPlayers.push(val);
  });

  document.querySelectorAll('#opposingTeamPlayers input').forEach(input => {
    const val = input.value.trim();
    if (playerValues[val] !== undefined) totalOpp += playerValues[val];
    else if(val) missingPlayers.push(val);
  });

  const resultDiv = document.getElementById('result');
  resultDiv.innerHTML = `My Team Total: ${totalMy}<br>Opposing Team Total: ${totalOpp}<br>`;

  if(totalMy > totalOpp) {
    resultDiv.innerHTML += `<div class="win">Click Accept ASAP!</div>
   <img src="OIP.webp" alt="Click Accept">`;
  } else if(totalMy < totalOpp) {
    resultDiv.innerHTML += `<div class="loss">You're getting fleeced ❌</div>`;
  } else {
    resultDiv.innerHTML += `<div>Trade is roughly even.</div>`;
  }

  if (missingPlayers.length) resultDiv.innerHTML += `<br><i>Warning: These players are not in your rankings: ${missingPlayers.join(', ')}</i>`;
}


addPlayer('my');
addPlayer('opp');
</script>

</body>
</html>
